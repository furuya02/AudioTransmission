import os
import sys
sys.path.append(os.path.join(os.path.dirname(__file__), '..'))

import index as target
event = {'Records': [{'kinesis': {'kinesisSchemaVersion': '1.0', 'partitionKey': '74', 'sequenceNumber': '49617355196346976098690945488189051857961762839311941634', 'data': 'eyJ0aW1lc3RhbXAiOiAiMjAyMS0wNC0xNlQwOTo0MDowNi41NDY2MDEiLCAicmF3X2RhdGEiOiAiS1A5aS8xNys4ZjA1L1RNQWd3S2MvNHYvQWdEai9pMytJZjFQL3UvOUFQMkovZUQ5ZC8vSS90ajc5ZnluL1NuLzhQNTUvdWdCOHdIUS82di84UUJBQXZQL3lBQjEvMkgvZ3dEcS96ai9odjRpQU13Qld3QlpBbGtEUEFNNEE5OEJwQUZRQUVmL2t3Q0EvNGYvcnYvQy95ditwdjJDL1VQOVcvd0gvZUQrcndBTi8ybit4UDhBQVZrQlpnQXNBVllDREFLaEFjdi8wUUNSQUNFQS8vNC9BY0QvQkFDay8xWUFELy9hL1VML1N2K1kvd01DOXdTQkJZSUVRUVBvQVlVQzN3SDBBQXdCWWdJTUFxMy9tUDYyLy96OVRmMTIvV0w5ZXZ5bSt3SC9jUCt4L0hmOHBmNURBWnIvM1A2NUFTNEM4QUY4Ly9FQ3ZnS1MvdzMvUWdBV0Fkb0Fod0RHQU5FQ3hQNU8vdkwvVGdGOEFZSDlhUUNVQU83L2dmMHYvaHdCWVFEUi9QSDdvUDY5L2piK25mMGUvK0QvV3Y5SkFGZ0Fnd0JIL2xQL29mOEdBZTMrOVA3dUFiUUFXdjdUL0pjQTh2L3QrOUQrTGdIK0FEei8yZis4QTVZQ2tQNGYvaWNDTUFGby9aci80d1BvQVFyKzZmMkQveXIvWS95Yi9GSDlLdis0L2JqOFJmOFgvekQrb1B3Vy96NEFudjV2L2hvQVdnQzYvczcrbmdBWUF1WUNxd0M5QVc0Qk1RSkJBcmtCakFEWS8zVC82di9qLzNzQWNnRUJBU0QvRy8vKy8yWC9KZjVQLzdBQW5nQk5BTDcvVGdCay81QUFuZi9QQUdjQ3dnQWhBZ3NCNmdDRC94b0J1UUo3QW5zQVBnRTNBUUVBNlA4Ui80RCtJUC93L2FiK3FmNkwveXdDZFFON0FXZ0FKUUZ3QTFIL09mOEpBM29BMmY0Si91ci9pLytXL0tiKzVQNXQvbnYrMVArYUFkMy9jd0Z6QXJJQ2tRT05BOEFFYVFQMkFab0JzQURWLzhQL052OTUvNG4rdHYySi9ubi9RdjhUL3NQK3AvN1MvNnYraS8rSUFma0Fodi9FQUJzQTNQNVgvNk1BY0FHTUFBOEFiUUZLQVYwQlNnQ0lBUUFDQmdIekFmZi9YLy9TL3l2LytQNkkvcmIrdS81diswMzlkdjJhL0hQOXp2OTVBci8rZmY2c0FWb0JFd0NTLzFJRTNRSzdBTEVBc0FGOUF3d0J2d0JqQVFvQjB3QWZBU2NCblFKSUFvTUI2UURmLytjQThnRGovM0VCcndDTkFOZjk0ZjZXL3JMOVdQMU8vZVA5OVA1dS9sSCtmZjk4QU53QUJ3RlRBRmdCNXdGZkFRMEJVZ0VWQW9JQnlnSEpBZ2NDQ1FEK0FFY0JPd0pNQW9rQlZnSFovNWovM2Y2ai9zai9hZi9sL1VQK3J2N1gvcUgrcS81dy94UCt3Lzl2LzZMLzFQOFQvMnNBb3dCVUFJNy9rd0NGQUpiLzN2NXkvbHIvVWdBK0FFQUJnLzRFL25IL2lnQkdBWnorWGdBVUFFNysrLzFJL2g4Qk5nRVIvcXIrbXYrRi8rMzh6djNMLzBiL1lQNVkvL3IvZ1FFLy94ai94QUNJQWJvQUR3R2pBbDBDZUFCSEFTSUI4QUM5QUFFQTlQOTYvb2ovZ2Y1by9ZLzhJUDRzL2RQN04vc0gvWVQrWi8yUS9zSCtUUC9HLytIL3N3S0pBaFlDMUFKL0FvSUJGZ0lJQW9JQ013QzcvNWIrT1FBLy84ejlpdjlQLzZyK1IvMVovWWIvc3Y3Vy9qZ0FBZ0VGQVJvQTdRQitBV3dBT3dCMUFmY0NZQUdWQUtZQkFnRzNBRWovOHdEdUFDMEFVUUZuL3lzQldnRDkvdHYvUHYrTUFNei9tZi9QQVR6L3pBQU9BTHovUnY2UC96WUJYd0I3QUlFQlRRRUdBT3IvRlFDdC8zNytTZ0NZQU5yL0VnQXhBUWtDTlFHeEFJNEJXZ0xlQUo0QXdBRThBaklCQ1FEMkFETUF3di9zL25zQUVQK2kvalAvOC82Ry9oSCs0UDZvL29qL0hnRTMvMVAvZVA5eEFMUC9lUDRIQUVNQXF2OTQvNG9BQ0FHVi80VCszLytoL3ZqK2x2KzBBRFQvSlAxMC8rci9BLzkwL2JuKzR2L3IvVHovSUFBUUFUUUEvdjhxQWVNQURnRlZBVklCWkFHa0FISUI3LytpLzNYL2FQK3QvOFgra1A2Ni96di9CZjhXL3EzLzV2L2Uvbi8vQmdGUUFlditCQUEvQVlRQUZ3SDlBRjhDREFFMEFNWC81QUQ5QVo4QlNnR3FBZmtBTHdHU0FPLy9nd0NxQUJJQVpmK04veHdBVGY5SkFFc0FPd0U1LzVMKzZnQjZBTWtBS1FEYUFMa0J0Z0FqQVJFQi9BRGhBTTMvSWdIMkFFai9Rd0JyLzVBQXV2K3dBSThCb0FGSUFSWUJoZ0xsQWM4QUZBRm5BY2tBQWdBZUFCa0FMQUFNQU5ML1dmNmkvNC8rY3YvWS85d0F4QUJnQVA3L0dnQXhBRDRBWGdBdUFiWUFwd0FpQUczL0h3RGYvN24vR3dEQy8xQUJkUUF6LytnQTJnQ05BQUVBQ0FEcUFGZ0E1QUJxQUh2L3l2K0wvL2IvVndEdi8vWCtDUCtlL3NiLzFQNnovMkwvcnY1dS9vejlqUDViLzRUK1N2NXgvdDc5Mi8yUC9qTC9KZjlDLzRJQVNBQ1VBTVVBNmY4MkFLbi9UZi8zL3d3QTkvOVAveVgvVlA4Ri95Yis2UDNIL3AvK0xQOHovZz09In0K', 'approximateArrivalTimestamp': 1618533606.563}, 'eventSource': 'aws:kinesis', 'eventVersion': '1.0', 'eventID': 'shardId-000000000000:49617355196346976098690945488189051857961762839311941634', 'eventName': 'aws:kinesis:record', 'invokeIdentityArn': 'arn:aws:iam::439028474478:role/service-role/audio_transmission_level_meter-role-xwwrud99', 'awsRegion': 'ap-northeast-1', 'eventSourceARN': 'arn:aws:kinesis:ap-northeast-1:439028474478:stream/AudioDataStream'}]}

response = target.lambda_handler(event, None)
print(response)
